@model List<Ticket>
@{
    ViewData["Title"] = "Stelexos";
}
@section AfterContent{
    <!-- Page JS Plugins -->
    <script src="~/js/plugins/ckeditor5-classic/build/ckeditor.js"></script>

    <!-- Page JS Helpers (CKEditor 5 plugins) -->
    @*<script>Dashmix.helpersOnLoad(['js-ckeditor5']);</script>*@

    <script>

        $(document).ready(function () {

            $(".list-group-item").on("click", function () {
                var id = $(this).attr("id").split("t-")[1];

                $.ajax({
                    url: "/Tickets/Details/" + id,
                    context: $("#ticket-details")//document.body
                }).done(function (data) {
                    $("#ticket-details").html(data);
                    
                    Dashmix.init();
                    Dashmix.helpersOnLoad(['js-ckeditor5']);
                   
                });
            });

            $("#new-ticket").on("click", function () {
                var id = $(this).attr("id").split("t-")[1];

                $.ajax({
                    url: "/Tickets/Create/",
                    context: $("#ticket-details")//document.body
                }).done(function (data) {
                    $("#ticket-details").html("");
                    $("#ticket-details").html(data);
                    Dashmix.init();

                });
            });
        });

    </script>
}

<div class="row g-0 flex-md-grow-1">
    @await Html.PartialAsync("_ticktesList", Model)
</div>

